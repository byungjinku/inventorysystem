{% extends 'base.html' %}

{% block content %}
<div class="container-fluid">
  <div class="row">
    <div class="col-md-4">
      <h2>상품 추가</h2>
      <form method="post" action="{% url 'product:add_product' %}">
        {% csrf_token %}
        <div class="form-group">
          <label for="kind">종류:</label>
          <select class="form-control" id="kind" name="kind" required>
            <option value="hoodie_s">후드티 S</option>
            <option value="hoodie_m">후드티 M</option>
            <option value="hoodie_l">후드티 L</option>
            <option value="jeans_free">청바지 Free</option>
            <option value="socks_free">양말</option>
            <option value="hat_free">모자</option>
          </select>
        </div>
        <button type="submit" class="btn btn-primary">추가</button>
      </form>
    </div>
    <div class="col-md-4">
      <h2>상품 입고</h2>
      <form method="post" action="{% url 'product:add_quantity' %}">
        {% csrf_token %}
        <div class="form-group">
          <label for="code">코드:</label>
          <select class="form-control" id="code" name="kind" required>
            <option value="hoodie_s">후드티 S</option>
            <option value="hoodie_m">후드티 M</option>
            <option value="hoodie_l">후드티 L</option>
            <option value="jeans_free">청바지</option>
            <option value="socks_free">양말</option>
            <option value="hat_free">모자</option>
          </select>
        </div>
        <div class="form-group">
          <label for="quantity">수량:</label>
          <input type="number" class="form-control" id="quantity" name="quantity" required>
        </div>
        <button type="submit" class="btn btn-primary">입고</button>
      </form>
    </div>
    <div class="col-md-4">
      <h2>상품 출고</h2>
      <form method="post" action="{% url 'product:remove_quantity' %}">
        {% csrf_token %}
        <div class="form-group">
          <label for="kind">종류:</label>
          <select class="form-control" id="kind" name="kind" required>
            <option value="hoodie_s">후드티 S</option>
            <option value="hoodie_m">후드티 M</option>
            <option value="hoodie_l">후드티 L</option>
            <option value="jeans_free">청바지</option>
            <option value="socks_free">양말</option>
            <option value="hat_free">모자</option>
          </select>
        </div>
        <div class="form-group">
          <label for="quantity">수량:</label>
          <input type="number" class="form-control" id="quantity" name="quantity" required>
        </div>
        <button type="submit" class="btn btn-primary">출고</button>
      </form>
    </div>
    <div class="row">
      <div class="col-md-12 text-center">
        <h2 class="text-center">전체 재고</h2>
        <p class="text-center">전체 재고 수량: {{ total|default:0 }}</p>
    </div>
    
    </div>    
    <hr>
    
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12 text-center">
          <h2>상품 리스트</h2>
          <table class="table" style="font-size: 18px;">
            <thead>
              <tr>
                <th>코드</th>
                <th>종류</th>
                <th>수량</th>
              </tr>
            </thead>
            <tbody>
              {% for product in products %}
              <tr>
                <td>{{ product.code }}</td>
                <td>{{ product.kind }}</td>
                <td>{{ product.quantity }}</td>
              </tr>
              {% empty %}
              <tr>
                <td colspan="3">등록된 상품이 없습니다.</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  {%endblock%}
    
